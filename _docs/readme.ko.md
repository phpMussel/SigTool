### 설치하는 방법 :

설치하기 전에 요구 사항을 확인하십시오. 일치하지 않으면, SigTool이 올바르게 작동하지 않습니다.

#### 요구 사항 :
- PHP &gt;= `7.0.3` + zlib 및 phar 지원.
- &gt;= 1GB의 디스크 여유 공간 (디스크에서 직접 작업하는 경우) 또는 사용 가능한 RAM (RAM 드라이브를 사용하는 경우; 추천 된).
- CLI 모드에서 PHP를 작동하는 기능 (명령 프롬프트, 터미널, 쉘, 등).

SigTool을 설치하려면 `SigTool.php`와 `YAML.php`를 다운로드하십시오. :-)

SigTool은 다른 PHP 스크립트와 같은 방식으로 디스크 또는 저장 매체에서 작동할 수 있습니다. 읽기/쓰기 작업이 많기 때문에, RAM 드라이브에서 작업하는 것이 가장 좋습니다. 이렇게 하면 속도가 약간 증가하고 디스크 읽기/쓰기 작업이 과도하게 줄어듭니다. 출력은 약 ~64MB를 넘지 않아야 하지만, 임시 작업 파일 및 읽기/쓰기 오류를 피하고자 정상 작동 중에는 약 ~1GB의 여유 디스크 공간 또는 사용 가능한 RAM이 필요합니다.

---


### 사용하는 방법 :

노트 : SigTool은 웹 앱이 아닙니다! SigTool은 터미널, 쉘, 등과 함께 사용하기위한 CLI-app입니다. `SigTool.php` 파일을 첫 번째 인수로 사용하여 PHP 바이너리를 호출하면 호출 할 수 있습니다.

`$ php SigTool.php`

SigTool이 호출되면 도움말 정보가 표시됩니다. SigTool을 사용하기위한 가능한 옵션이 나열됩니다.

가능한 옵션 :
- 옵션을 지정하지 않으면이, 도움말 정보가 표시됩니다.
- `x` : `daily.cvd` 및 `main.cvd`에서 서명 파일을 추출합니다.
- `p` : phpMussel과 함께 사용할 시그니처 파일 처리.
- `m` : 처리하기 전에 `main.cvd`를 다운로드하십시오.
- `d` : 처리하기 전에 `daily.cvd`를 다운로드하십시오.
- `u` : SigTool 업데이트 (`SigTool.php`를 다시 다운로드 한 다음 종료하십시오; 아무것도 확인되지 않았다).

생성 된 출력은 ClamAV 서명 데이터베이스에서 직접 생성 된 phpMussel 서명 파일입니다. 두 가지 양식을 사용할 수 있습니다 :
- `/vault/signatures/` 디렉토리에 삽입 할 수있는 서명 파일.
- `phpMussel/Signatures` 저장소를 업데이트하는 데 사용할 수있는 서명 파일의 GZ 압축 사본.

출력은 `SigTool.php`와 동일한 디렉토리에 직접 생성됩니다. 원본 파일과 모든 임시 작업 파일은 작업 중에 삭제됩니다 (따라서 `daily.cvd`와 `main.cvd`의 사본을 보관하려면, 서명 파일을 처리하기 전에 사본을 만들어야합니다).

SigTool을 사용하여 새 서명 파일을 생성 할 때, 컴퓨터의 안티 바이러스 스캐너가 새로 생성 된 서명 파일을 삭제하거나 격리하려고 시도 할 수 있습니다. 때로는 안티 바이러스 검사 중에, 서명 파일이 위험 해 보일 수도 있지만 그렇지는 않습니다 (SigTool에 의해 생성 된 서명 파일은 실행 가능한 코드를 포함하지 않으며 완전히 안전한니다). 이 문제가 발생하면, 안티 바이러스 스캐너를 일시적으로 비활성화하십시오, 또는 안티 바이러스 스캐너를 구성하여 새 서명 파일 디렉토리를 허용 목록에 추가하십시오.

처리 할 때 `signatures.dat` YAML 파일이 같은 디렉토리에 포함되어 있으면 버전 정보와 체크섬이 그에 따라 업데이트됩니다 (그래서, SigTool을 사용하여 `phpMussel/Signatures` 저장소를 업데이트 할 때, 이것은 포함되어야합니다).

*노트 : phpMussel 사용자 인 경우, 제대로 작동하려면 서명 파일이 "활성"상태 여야합니다! SigTool을 사용하여 새 서명 파일을 생성하는 경우, phpMussel 구성 "Active"지시문에 나열하여 "활성화"할 수 있습니다. 또한 프런트 엔드 업데이트 페이지에서 직접 활성화 할 수도 있습니다. 그러나 두 가지 방법을 모두 사용할 필요는 없습니다. 최적의 성능을 얻으려면 필요한 것보다 많은 서명 파일을 사용하지 않는 것이 좋습니다 (특정 유형의 파일이 블랙리스트에 올라있는 경우 해당 유형의 파일에 해당하는 서명 파일이 필요하지 않을 것입니다; 이미 차단 된 파일을 분석하는 것은 불필요한 작업이므로 스캔 프로세스가 상당히 느려질 수 있습니다).*

SigTool 사용을위한 비디오 데모는 YouTube에서 볼 수 있습니다 : __[youtu.be/f2LfjY1HzRI](https://youtu.be/f2LfjY1HzRI)__

---


### SigTool에서 생성 한 서명 파일 목록 :
서명 파일 | 설명
---|---
clamav.hdb | 모든 유형의 파일을 대상으로합니다. 파일 해시를 활용합니다.
clamav.htdb | HTML 파일을 대상으로합니다. HTML 정규화 된 데이터를 사용합니다.
clamav_regex.htdb | HTML 파일을 대상으로합니다. HTML 정규화 된 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav.mdb | PE 파일을 대상으로합니다. PE 단면 메타 데이터를 사용합니다.
clamav.ndb | 모든 유형의 파일을 대상으로합니다. ANSI 정규화 된 데이터를 사용합니다.
clamav_regex.ndb | 모든 유형의 파일을 대상으로합니다. ANSI 정규화 된 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav.db | 모든 유형의 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_regex.db | 모든 유형의 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_elf.db | ELF 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_elf_regex.db | ELF 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_email.db | EML 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_email_regex.db | EML 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_exe.db | PE 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_exe_regex.db | PE 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_graphics.db | 이미지 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_graphics_regex.db | 이미지 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_java.db | Java 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_java_regex.db | Java 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_macho.db | Mach-O 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_macho_regex.db | Mach-O 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_ole.db | OLE 객체를 대상으로합니다. 원시 데이터를 사용합니다.
clamav_ole_regex.db | OLE 객체를 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_pdf.db | PDF 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_pdf_regex.db | PDF 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.
clamav_swf.db | SWF 파일을 대상으로합니다. 원시 데이터를 사용합니다.
clamav_swf_regex.db | SWF 파일을 대상으로합니다. 원시 데이터를 사용합니다. 서명에는 정규식이 포함될 수 있습니다.

---


### 서명 파일 확장에 관한 참고 사항 :
*이 정보는 앞으로 확장 될 것입니다.*

- __cedb__ : 복잡한 확장 서명 파일. 이것은 phpMussel을 위해 만든 자작 (homebrew) 형식이며 ClamAV 서명 데이터베이스와 아무 관련이 없습니다. SigTool은이 확장자를 사용하여 서명 파일을 생성하지 않습니다. 이들은 `phpMussel/Signatures` 저장소에 대해 수동으로 작성됩니다. `clamav.cedb`는 phpMussel에 여전히 유용한 것으로 간주되는 오래된 ClamAV 서명의 변형을 포함합니다. phpMussel에 의해 생성 된 확장 메타 데이터를 기반으로하는 규칙으로 작동하는 서명 파일은이 확장자를 사용합니다.
- __db__ : 표준 서명 파일 (이들은 `daily.cvd`와 `main.cvd`에 포함 된 `.ndb`서명 파일에서 추출됩니다). 파일 내용으로 직접 작동하는 서명 파일은이 확장자를 사용합니다.
- __fdb__ : 파일 이름 서명 파일 (ClamAV 서명 데이터베이스는 이전에 파일 이름 서명을 지원했지만 더 이상 사용하지 않습니다; SigTool은이 확장자를 사용하여 서명 파일을 생성하지 않습니다; phpMussel에 대한 지속적인 유용성으로 인해 유지됩니다). 파일 이름과 함께 작동하는 서명 파일은이 확장자를 사용합니다.
- __hdb__ : 해시 서명 파일 (이들은 `daily.cvd`와 `main.cvd`에 포함 된 `.hdb`서명 파일에서 추출됩니다). 파일 해시와 함께 작동하는 서명 파일은이 확장자를 사용합니다.
- __htdb__ : HTML 서명 파일 (이들은 `daily.cvd`와 `main.cvd`에 포함 된 `.ndb`서명 파일에서 추출됩니다). HTML 표준화 된 컨텐츠로 작업하는 서명 파일은이 확장자를 사용합니다.
- __mdb__ : PE 단면 서명 파일 (이들은 `daily.cvd`와 `main.cvd`에 포함 된 `.mdb`서명 파일에서 추출됩니다). PE 단면 메타 데이터와 함께 작동하는 서명 파일은이 확장자를 사용합니다.
- __medb__ : PE 확장 서명 파일. 이것은 phpMussel을 위해 만든 자작 (homebrew) 형식이며 ClamAV 서명 데이터베이스와 아무 관련이 없습니다. SigTool은이 확장자를 사용하여 서명 파일을 생성하지 않습니다. 이들은 `phpMussel/Signatures` 저장소에 대해 수동으로 작성됩니다. PE 메타 데이터 (PE 단면 메타 데이터 제외)와 함께 작동하는 서명 파일은이 확장자를 사용합니다.
- __ndb__ : 표준화 된 서명 파일 (이들은 `daily.cvd`와 `main.cvd`에 포함 된 `.ndb`서명 파일에서 추출됩니다). ANSI 표준화 된 컨텐츠로 작업하는 서명 파일은이 확장자를 사용합니다.
- __udb__ : URL 서명 파일. 이것은 phpMussel을 위해 만든 자작 (homebrew) 형식이며 ClamAV 서명 데이터베이스와 아무 관련이 없습니다. SigTool은 현재이 확장을 사용하여 서명 파일을 생성하지 않습니다. 그러나 이것은 미래에 변경 될 수 있습니다. 현재, 이들은 `phpMussel/Signatures` 저장소에 대해 수동으로 작성됩니다. URL과 함께 작동하는 서명 파일은이 확장자를 사용합니다.
- __ldb__ : 논리 서명 파일 (장래에, 이들은 `daily.cvd`와 `main.cvd`에 포함 된 `.ldb`서명 파일로부터 추출 될 것입니다. 그들은 아직 SigTool이나 phpMussel에서 지원하지 않습니다). 다양한 논리 규칙과 함께 작동하는 서명 파일은이 확장을 사용합니다.


---


최종 업데이트 : 2020년 3월 7일.
